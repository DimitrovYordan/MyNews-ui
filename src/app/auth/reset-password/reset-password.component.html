<div class="form-content">
    <h2 class="form-title">Reset Password</h2>

    <form [formGroup]="resetForm" (ngSubmit)="submit()">
        <div class="form-group password-group">
            <label>New Password</label>
            <div class="password-wrapper">
                <input [type]="showPassword ? 'text' : 'password'" formControlName="password"
                    placeholder="Enter new password" />
                <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"
                    (click)="showPassword = !showPassword"></i>
            </div>
            @if (resetForm.get('password')?.touched && resetForm.get('password')?.invalid) {
            <small class="error">Password must have at least 6 chars, 1 number, 1 special character.</small>
            }
        </div>

        <div class="form-group password-group">
            <label>Repeat Password</label>
            <div class="password-wrapper">
                <input [type]="showRepeatPassword ? 'text' : 'password'" formControlName="repeatPassword"
                    placeholder="Repeat new password" />
                <i class="bi" [ngClass]="showRepeatPassword ? 'bi-eye-slash' : 'bi-eye'"
                    (click)="showRepeatPassword = !showRepeatPassword"></i>
            </div>
            @if (resetForm.hasError('passwordsMismatch') && resetForm.get('repeatPassword')?.touched) {
            <small class="error">Passwords do not match.</small>
            }
        </div>

        <button type="submit" [disabled]="resetForm.invalid">Reset Password</button>
    </form>
</div>

<app-modal 
    [show]="showModal" 
    [showCancel]="false" 
    [type]="modalType" 
    [message]="modalMessage" 
    (closed)="closeModal()">
</app-modal>